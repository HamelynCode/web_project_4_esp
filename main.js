!function(){"use strict";function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var t=function(){function t(e,n,r,i,o,a){var l,u,c=this,s=e.id,f=e.name,h=e.imgUrl,d=e.likes;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),u=function(){c._deleteCallback()},(l="_btnDeleteCallback")in this?Object.defineProperty(this,l,{value:u,enumerable:!0,configurable:!0,writable:!0}):this[l]=u,this._id=s,this._name=f,this._imgUrl=h,this._info=n,this._likes=d,this._elem=this._getElementFromTemplate(this._info.templateSelector),this._img=this._elem.querySelector(this._info.imgClass),this._btnDelete=this._elem.querySelector(this._info.btnDeleteClass),this._btnLike=this._elem.querySelector(this._info.btnLikeClass),this._likesCount=this._elem.querySelector(this._info.likesCountClass),this._likesCount.textContent=this._likes.length,this._likes.length>0&&this._btnLike.classList.add(this._info.btnLikeActiveClass),this._deleteCallback=i,this._imgCallback=r,this._likeCallback=o,this._handleEventListeners(),a&&this._btnDelete.classList.remove(this._info.btnDeleteHidden)}var n,r;return n=t,(r=[{key:"getElement",value:function(){return this._elem}},{key:"getCardId",value:function(){return this._id}},{key:"setLikes",value:function(e){this._likesCount.textContent=e}},{key:"_getElementFromTemplate",value:function(e){var t=document.querySelector(e).content.querySelector(this._info.cardClass).cloneNode(!0),n=t.querySelector(this._info.imgClass);return n.name=this._name,n.src=this._imgUrl,n.alt=this._name,t.querySelector(this._info.cardTextClass).textContent=this._name,t}},{key:"_handleEventListeners",value:function(){this._btnDeleteClickHandler(),this._imgClickHandler(),this._btnLikeClickHandler()}},{key:"_btnDeleteClickHandler",value:function(){this._btnDelete.addEventListener("click",this._btnDeleteCallback)}},{key:"removeCard",value:function(){this._elem.remove(),this._btnDelete.removeEventListener("click",this._btnDeleteCallback)}},{key:"_imgClickHandler",value:function(){this._img.addEventListener("click",this._imgCallback)}},{key:"_btnLikeClickHandler",value:function(){var e=this;this._btnLike.addEventListener("click",(function(t){t.target.classList.contains(e._info.btnLikeActiveClass)?e._likeCallback(!1).then((function(n){t.target.classList.remove(e._info.btnLikeActiveClass),e._likesCount.textContent=n.likes.length})):e._likeCallback(!0).then((function(n){t.target.classList.add(e._info.btnLikeActiveClass),e._likesCount.textContent=n.likes.length}))}))}}])&&e(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),t}();function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var r=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._config=t,this._form=n,this._inputList=Array.from(this._form.querySelectorAll(this._config.inputSelector)),this._buttonElement=this._form.querySelector(this._config.submitButtonSelector)}var t,r;return t=e,(r=[{key:"checkValidity",value:function(){var e=this;this._inputList.forEach((function(t){e._hideInputError(t)})),this._toggleButtonState(this._buttonElement)}},{key:"enableValidation",value:function(){this._form.addEventListener("submit",(function(e){e.preventDefault()})),this._handleEventListeners()}},{key:"_handleEventListeners",value:function(){var e=this;this._toggleButtonState(this._buttonElement),this._inputList.forEach((function(t){t.addEventListener("input",(function(){e._checkInputValidity(t),e._toggleButtonState(e._buttonElement)}))}))}},{key:"_toggleButtonState",value:function(){this._hasInvalidInput()?(this._buttonElement.disabled=!0,this._buttonElement.classList.add(this._config.inactiveButtonClass)):(this._buttonElement.disabled=!1,this._buttonElement.classList.remove(this._config.inactiveButtonClass))}},{key:"_checkInputValidity",value:function(e){e.validity.valid?this._hideInputError(e):this._showInputError(e,e.validationMessage)}},{key:"_showInputError",value:function(e,t){var n=this._form.querySelector("#".concat(e.id,"-error"));e.classList.add(this._config.inputErrorClass),n.textContent=t}},{key:"_hideInputError",value:function(e){var t=this._form.querySelector("#".concat(e.id,"-error"));e.classList.remove(this._config.inputErrorClass),t.textContent=""}},{key:"_hasInvalidInput",value:function(){return this._inputList.some((function(e){return!e.validity.valid}))}}])&&n(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var a=function(){function e(t,n){var r=this,i=t.popupSelector;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),o(this,"_clickOverCallback",(function(e){e.target===r._elem&&r.close()})),o(this,"_btnCloseCallback",(function(e){r.close()})),o(this,"_handleEscClose",(function(e){switch(e.key){case"Esc":case"Escape":r.close()}})),this._elem=document.querySelector(i),this._hiddenClass=n.hiddenClass,this._btnClose=this._elem.querySelector(n.btnClose)}var t,n;return t=e,(n=[{key:"getElement",value:function(){return this._elem}},{key:"open",value:function(){this._elem.classList.remove(this._hiddenClass),document.addEventListener("keydown",this._handleEscClose)}},{key:"close",value:function(){document.removeEventListener("keydown",this._handleEscClose),this._elem.classList.add(this._hiddenClass)}},{key:"setEventListeners",value:function(){this._elem.addEventListener("click",this._clickOverCallback),this._btnClose.addEventListener("click",this._btnCloseCallback)}}])&&i(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function l(e){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l(e)}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(){return c="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=s(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},c.apply(this,arguments)}function s(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=p(e)););return e}function f(e,t){return f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},f(e,t)}function h(e,t){if(t&&("object"===l(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return d(e)}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(e){return p=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},p(e)}var b=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&f(e,t)}(a,e);var t,n,r,i,o=(r=a,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=p(r);if(i){var n=p(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return h(this,e)});function a(e,t,n){var r,i,l,u,c=e.popupSelector;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),u=function(e){r._submitExternalCallback(e)},(l="_submitInternalCallback")in(i=d(r=o.call(this,{popupSelector:c},t)))?Object.defineProperty(i,l,{value:u,enumerable:!0,configurable:!0,writable:!0}):i[l]=u,r._inputList=Array.from(r._elem.querySelectorAll(t.inputSelector)),r._btnSubmit=r._elem.querySelector(t.btnSubmitSelector),r._submitExternalCallback=n,r.setEventListeners(),r}return t=a,(n=[{key:"close",value:function(){c(p(a.prototype),"close",this).call(this),this._elem.reset()}},{key:"setEventListeners",value:function(){this._elem.addEventListener("submit",this._submitInternalCallback),c(p(a.prototype),"setEventListeners",this).call(this)}},{key:"getInputValues",value:function(){var e={};return this._inputList.forEach((function(t){return e[t.name]=t.value})),e}},{key:"setInputValues",value:function(e){this._inputList.forEach((function(t){t.value=e[t.name]}))}},{key:"setSubmitButtonText",value:function(e){this._btnSubmit.textContent=e}}])&&u(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(a);function y(e){return y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},y(e)}function _(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function m(){return m="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=v(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},m.apply(this,arguments)}function v(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=w(e)););return e}function k(e,t){return k=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},k(e,t)}function g(e,t){if(t&&("object"===y(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return C(e)}function C(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function w(e){return w=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},w(e)}var E=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&k(e,t)}(a,e);var t,n,r,i,o=(r=a,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=w(r);if(i){var n=w(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return g(this,e)});function a(e,t){var n,r,i,l;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),l=function(e){n.open(e.target)},(i="showElement")in(r=C(n=o.call(this,{popupSelector:e},t)))?Object.defineProperty(r,i,{value:l,enumerable:!0,configurable:!0,writable:!0}):r[i]=l,n._viewImg=n.getElement().querySelector(".view__image"),n._targetName=n.getElement().querySelector(".view__title"),n.setEventListeners(),n}return t=a,(n=[{key:"open",value:function(e){this._viewImg.src=e.src,this._viewImg.alt=e.alt,this._targetName.textContent=e.name,m(w(a.prototype),"open",this).call(this)}}])&&_(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(a);function S(e){return S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},S(e)}function O(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function L(e,t){return L=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},L(e,t)}function j(e,t){if(t&&("object"===S(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return P(e)}function P(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function I(){return I="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=T(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},I.apply(this,arguments)}function T(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=x(e)););return e}function x(e){return x=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},x(e)}var R=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&L(e,t)}(a,e);var t,n,r,i,o=(r=a,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=x(r);if(i){var n=x(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return j(this,e)});function a(e,t){var n,r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),I((n=P(r=o.call(this,{popupSelector:e},t)),x(a.prototype)),"setEventListeners",n).call(n),r}return t=a,(n=[{key:"show",value:function(){this._elem.classList.remove(this._hiddenClass)}},{key:"hide",value:function(){this._elem.classList.add(this._hiddenClass)}},{key:"setSubmitListener",value:function(e){this._elem.addEventListener("submit",e)}}])&&O(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(a);function q(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var D=function(){function e(t,n){var r=t.items,i=t.renderer;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._items=r,this._renderer=i,this._container=document.querySelector(n)}var t,n;return t=e,(n=[{key:"render",value:function(){var e=this;this._items.forEach((function(t){e._renderer(t,e)}))}},{key:"addItem",value:function(e){this._container.prepend(e)}}])&&q(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function B(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var U=function(){function e(t){var n=t.nameSelector,r=t.aboutSelector,i=t.avatarSelector;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._dataId="",this._dataName="",this._dataAbout="",this._dataImgUrl="",this._name=document.querySelector(n),this._about=document.querySelector(r),this._avatar=document.querySelector(i),this._avatar.src=this._dataImgUrl}var t,n;return t=e,(n=[{key:"getUserInfo",value:function(){return{name:this._name.textContent,about:this._about.textContent}}},{key:"getId",value:function(){return this._dataId}},{key:"setInitialData",value:function(e){var t=e.id,n=e.name,r=e.about,i=e.imgUrl;this._dataId=t,this._dataName=n,this._dataAbout=r,this._dataImgUrl=i,this.setUserInfo({name:n,about:r}),this.setUserAvatar(this._dataImgUrl)}},{key:"setUserAvatar",value:function(e){this._avatar.src=e}},{key:"setUserInfo",value:function(e){var t=e.name,n=e.about;this._name.textContent=t,this._about.textContent=n}}])&&B(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function V(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var A=function(){function e(t){var n=t.user,r=t.url,i=t.headers;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._user=n,this._url=r,this._headers=i}var t,n;return t=e,(n=[{key:"_makeRequest",value:function(e,t,n){return fetch("".concat(this._url).concat(t),{method:e,headers:this._headers,body:"GET"!==e?JSON.stringify(n):void 0}).then((function(e){return e.ok?e.json():Promise.reject("Error: ".concat(e.statusText))}))}},{key:"getUserInfo",value:function(){return this._makeRequest("GET","/users/".concat(this._user))}},{key:"getInitialCards",value:function(){return this._makeRequest("GET","/cards")}},{key:"editProfile",value:function(e,t){return this._makeRequest("PATCH","/users/".concat(this._user),{name:e,about:t})}},{key:"addNewCard",value:function(e,t){return this._makeRequest("POST","/cards",{name:e,link:t})}},{key:"deleteCard",value:function(e){return this._makeRequest("DELETE","/cards/".concat(e))}},{key:"addNewLike",value:function(e){return this._makeRequest("PUT","/cards/likes/".concat(e))}},{key:"removeLike",value:function(e){return this._makeRequest("DELETE","/cards/likes/".concat(e))}},{key:"setProfileImage",value:function(e){return this._makeRequest("PATCH","/users/".concat(this._user,"/avatar"),{avatar:e})}}])&&V(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}(),N={btnClose:".form__btn-close",hiddenClass:"popup_hidden",inputSelector:".input",btnSubmitSelector:".btn_submit"},H="Guardando...",G="Guardar",F={cardClass:".card",imgClass:".card__image",btnDeleteClass:".btn_delete",btnDeleteHidden:"btn_delete_hidden",btnLikeClass:".btn_like",cardTextClass:".card__text",btnLikeActiveClass:"btn_like_active",templateSelector:"#template-card",likesCountClass:".card__likes-count"},z={formSelector:".form",inputSelector:".input",submitButtonSelector:".form__btn-submit",inactiveButtonClass:"btn_inactive",inputErrorClass:"input_type_error"},J={user:"me",url:"https://around.nomoreparties.co/v1/web_es_cohort_02",headers:{authorization:"43821f01-4b26-43b6-994f-72bfc960dac4","Content-Type":"application/json"}},M=function(e){console.log(e)},K=new A({user:J.user,url:J.url,headers:J.headers}),Q=new E(".view",{hiddenClass:"popup_hidden",btnClose:".view__btn-close"}),W=new R("#form-delete",N),X=new U({nameSelector:".profile__name",aboutSelector:".profile__about",avatarSelector:".profile__avatar"});function Y(e,n,r,i,o){var a=o===e.owner._id;return new t({id:e._id,name:e.name,imgUrl:e.link,likes:e.likes},F,n,r,i,a)}function Z(e){W.setSubmitListener((function(t){t.preventDefault(),K.deleteCard(e.getCardId()).then((function(t){e.removeCard(),W.hide()})).catch(M)})),W.show()}function $(e,t){var n=Y(e,Q.showElement,(function(){Z(n)}),(function(e){return e?K.addNewLike(n.getCardId()):K.removeLike(n.getCardId())}),X.getId());t.addItem(n.getElement())}K.getUserInfo().then((function(e){X.setInitialData({id:e._id,name:e.name,about:e.about,imgUrl:e.avatar});var t=new b({popupSelector:"#form-edit"},N,(function(e){e.preventDefault(),t.setSubmitButtonText(H),K.editProfile(t.getInputValues().name,t.getInputValues().text).then((function(e){K.getUserInfo().then((function(e){X.setUserInfo({name:e.name,about:e.about})})).catch(M).finally((function(){t.close(),t.setSubmitButtonText(G)}))})).catch(M)})),n=t.getElement(),i=new r(z,n);i.enableValidation(),document.querySelector(".btn_edit").addEventListener("click",(function(){var e=X.getUserInfo(),n=e.name,r=e.about;t.setInputValues({name:n,text:r}),i.checkValidity(),t.open()}));var o=new b({popupSelector:"#form-profile-img"},N,(function(){var e=o.getInputValues().text;o.setSubmitButtonText(H),K.setProfileImage(e).then((function(t){X.setUserAvatar(e)})).catch(M).finally((function(){o.close(),o.setSubmitButtonText(G)}))})),a=new r(z,o.getElement());a.enableValidation(),document.querySelector(".profile__edit-cover").addEventListener("click",(function(){a.checkValidity(),o.open()}))})).catch(M),K.getInitialCards().then((function(e){var t=new D({items:e.reverse(),renderer:$},".elements");t.render();var n=new b({popupSelector:"#form-add"},N,(function(e){e.preventDefault();var r=n.getInputValues().name,i=n.getInputValues().text;n.setSubmitButtonText(H),r&&i&&K.addNewCard(r,i).then((function(e){var n=Y(e,Q.showElement,(function(){Z(n)}),(function(e){return e?K.addNewLike(n.getCardId()):K.removeLike(n.getCardId())}),X.getId());t.addItem(n.getElement())})).catch(M).finally((function(){n.close(),n.setSubmitButtonText(G)}))})),i=n.getElement(),o=new r(z,i);o.enableValidation(),document.querySelector(".btn_add").addEventListener("click",(function(){o.checkValidity(),n.open()}))})).catch(M)}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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Q0FDRVYsY0YzSmMsYUU2SmhCeUUsR0FDQSxTQUFDN0csR0FDQ0EsRUFBSXFCLGlCQUNKLElBQU1wRSxFQUFPb04sRUFBU2YsaUJBQWlCck0sS0FDakN5SixFQUFPMkQsRUFBU2YsaUJBQWlCN0YsS0FDdkM0RyxFQUFTakIsb0JBQW9CdEMsR0FDekI3SixHQUFReUosR0FDVmMsRUFDRzhDLFdBQVdyTixFQUFNeUosR0FDakJ2RyxNQUFLLFNBQUNDLEdBQ0wsSUFBTXNJLEVBQVVmLEVBQ2R2SCxFQUNBcUgsRUFBWWtCLGFBQ1osV0FDRVosRUFBbUJXLEVBQ3BCLElBQ0QsU0FBQ0UsR0FDQyxPQUFJQSxFQUNLcEIsRUFBSXFCLFdBQVdILEVBQVFQLGFBRXZCWCxFQUFJc0IsV0FBV0osRUFBUVAsWUFFakMsR0FDRDFDLEVBQUtzRCxTQUVQbUIsRUFBYWxCLFFBQVFOLEVBQVE3RSxhQUM5QixJQUNBeUUsTUFBTWxCLEdBQ05tQyxTQUFRLFdBQ1BjLEVBQVNoSSxRQUNUZ0ksRUFBU2pCLG9CQUFvQnRDLEVBQzlCLEdBRU4sSUFHR3lELEVBQWtCRixFQUFTeEcsYUFFM0IyRyxFQUFvQixJQUFJbkssRUFDNUIyRyxFQUNBdUQsR0FFRkMsRUFBa0JkLG1CQUdDeEssU0FBU25CLGNGek1iLFlFME1KOEIsaUJBQWlCLFNBQVMsV0FDbkMySyxFQUFrQlosZ0JBQ2xCUyxFQUFTMUcsTUFDVixHQUNGLElBQ0EyRSxNQUFNbEIsRSIsInNvdXJjZXMiOlsid2VicGFjazovL3dlYl9wcm9qZWN0XzRfZXNwLy4vc3JjL2NvbXBvbmVudHMvQ2FyZC5qcyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF80X2VzcC8uL3NyYy9jb21wb25lbnRzL0Zvcm1WYWxpZGF0b3IuanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfNF9lc3AvLi9zcmMvY29tcG9uZW50cy9Qb3B1cC5qcyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF80X2VzcC8uL3NyYy9jb21wb25lbnRzL1BvcHVwV2l0aEZvcm0uanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfNF9lc3AvLi9zcmMvY29tcG9uZW50cy9Qb3B1cFdpdGhJbWFnZS5qcyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF80X2VzcC8uL3NyYy9jb21wb25lbnRzL1BvcHVwV2l0aENvbmZpcm1hdGlvbi5qcyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF80X2VzcC8uL3NyYy9jb21wb25lbnRzL1NlY3Rpb24uanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfNF9lc3AvLi9zcmMvY29tcG9uZW50cy9Vc2VySW5mby5qcyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF80X2VzcC8uL3NyYy9jb21wb25lbnRzL0FwaS5qcyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF80X2VzcC8uL3NyYy91dGlscy9jb25zdGFudHMuanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfNF9lc3AvLi9zcmMvdXRpbHMvdXRpbHMuanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfNF9lc3AvLi9zcmMvcGFnZXMvaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ2FyZCB7XHJcbiAgY29uc3RydWN0b3Ioe2lkLCBuYW1lLCBpbWdVcmwsIGxpa2VzfSwgaW5mbywgaW1nQ2xpY2tDYWxsYmFjaywgZGVsZXRlQ2FsbGJhY2ssIGxpa2VDYWxsYmFjaywgY2FuRGVsZXRlKSB7XHJcbiAgICB0aGlzLl9pZCA9IGlkO1xyXG4gICAgdGhpcy5fbmFtZSA9IG5hbWU7XHJcbiAgICB0aGlzLl9pbWdVcmwgPSBpbWdVcmw7XHJcbiAgICB0aGlzLl9pbmZvID0gaW5mbztcclxuICAgIHRoaXMuX2xpa2VzID0gbGlrZXM7XHJcbiAgICB0aGlzLl9lbGVtID0gdGhpcy5fZ2V0RWxlbWVudEZyb21UZW1wbGF0ZSh0aGlzLl9pbmZvLnRlbXBsYXRlU2VsZWN0b3IpO1xyXG4gICAgdGhpcy5faW1nID0gdGhpcy5fZWxlbS5xdWVyeVNlbGVjdG9yKHRoaXMuX2luZm8uaW1nQ2xhc3MpO1xyXG4gICAgdGhpcy5fYnRuRGVsZXRlID0gdGhpcy5fZWxlbS5xdWVyeVNlbGVjdG9yKHRoaXMuX2luZm8uYnRuRGVsZXRlQ2xhc3MpO1xyXG4gICAgdGhpcy5fYnRuTGlrZSA9IHRoaXMuX2VsZW0ucXVlcnlTZWxlY3Rvcih0aGlzLl9pbmZvLmJ0bkxpa2VDbGFzcyk7XHJcbiAgICB0aGlzLl9saWtlc0NvdW50ID0gdGhpcy5fZWxlbS5xdWVyeVNlbGVjdG9yKHRoaXMuX2luZm8ubGlrZXNDb3VudENsYXNzKTtcclxuICAgIHRoaXMuX2xpa2VzQ291bnQudGV4dENvbnRlbnQgPSB0aGlzLl9saWtlcy5sZW5ndGg7XHJcblxyXG4gICAgaWYodGhpcy5fbGlrZXMubGVuZ3RoID4gMCl7XHJcbiAgICAgIHRoaXMuX2J0bkxpa2UuY2xhc3NMaXN0LmFkZCh0aGlzLl9pbmZvLmJ0bkxpa2VBY3RpdmVDbGFzcyk7XHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy5fZGVsZXRlQ2FsbGJhY2sgPSBkZWxldGVDYWxsYmFjaztcclxuICAgIHRoaXMuX2ltZ0NhbGxiYWNrID0gaW1nQ2xpY2tDYWxsYmFjaztcclxuICAgIHRoaXMuX2xpa2VDYWxsYmFjayA9IGxpa2VDYWxsYmFjaztcclxuICAgIHRoaXMuX2hhbmRsZUV2ZW50TGlzdGVuZXJzKCk7XHJcbiAgICBcclxuICAgIGlmKGNhbkRlbGV0ZSl7XHJcbiAgICAgIHRoaXMuX2J0bkRlbGV0ZS5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX2luZm8uYnRuRGVsZXRlSGlkZGVuKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGdldEVsZW1lbnQoKSB7XHJcbiAgICByZXR1cm4gdGhpcy5fZWxlbTtcclxuICB9XHJcblxyXG4gIGdldENhcmRJZCgpIHtcclxuICAgIHJldHVybiB0aGlzLl9pZDtcclxuICB9XHJcblxyXG4gIHNldExpa2VzKGxpa2VzKXtcclxuICAgIHRoaXMuX2xpa2VzQ291bnQudGV4dENvbnRlbnQgPSBsaWtlcztcclxuICB9XHJcblxyXG4gIF9nZXRFbGVtZW50RnJvbVRlbXBsYXRlKHRlbXBsYXRlU2VsZWN0b3IpIHtcclxuICAgIC8vY2xvbmFyIGVsIGVsZW1lbnRvIGNhcmQgcXVlIHNlIGVuY3VlbnRyYSBkZW50cm8gZGVsIHRlbXBsYXRlXHJcbiAgICBjb25zdCBlbGVtID0gZG9jdW1lbnRcclxuICAgICAgLnF1ZXJ5U2VsZWN0b3IodGVtcGxhdGVTZWxlY3RvcilcclxuICAgICAgLmNvbnRlbnQucXVlcnlTZWxlY3Rvcih0aGlzLl9pbmZvLmNhcmRDbGFzcylcclxuICAgICAgLmNsb25lTm9kZSh0cnVlKTtcclxuICAgIGNvbnN0IGltZyA9IGVsZW0ucXVlcnlTZWxlY3Rvcih0aGlzLl9pbmZvLmltZ0NsYXNzKTtcclxuICAgIGltZy5uYW1lID0gdGhpcy5fbmFtZTtcclxuICAgIGltZy5zcmMgPSB0aGlzLl9pbWdVcmw7XHJcbiAgICBpbWcuYWx0ID0gdGhpcy5fbmFtZTtcclxuXHJcbiAgICBjb25zdCB0ZXh0ID0gZWxlbS5xdWVyeVNlbGVjdG9yKHRoaXMuX2luZm8uY2FyZFRleHRDbGFzcyk7XHJcbiAgICB0ZXh0LnRleHRDb250ZW50ID0gdGhpcy5fbmFtZTtcclxuICAgIHJldHVybiBlbGVtO1xyXG4gIH1cclxuXHJcbiAgX2hhbmRsZUV2ZW50TGlzdGVuZXJzKCkge1xyXG4gICAgdGhpcy5fYnRuRGVsZXRlQ2xpY2tIYW5kbGVyKCk7XHJcbiAgICB0aGlzLl9pbWdDbGlja0hhbmRsZXIoKTtcclxuICAgIHRoaXMuX2J0bkxpa2VDbGlja0hhbmRsZXIoKTtcclxuICB9XHJcblxyXG4gIF9idG5EZWxldGVDbGlja0hhbmRsZXIoKSB7XHJcbiAgICB0aGlzLl9idG5EZWxldGUuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIHRoaXMuX2J0bkRlbGV0ZUNhbGxiYWNrKTtcclxuICB9XHJcblxyXG4gIF9idG5EZWxldGVDYWxsYmFjayA9ICgpID0+IHtcclxuICAgIHRoaXMuX2RlbGV0ZUNhbGxiYWNrKCk7XHJcbiAgfTtcclxuXHJcbiAgcmVtb3ZlQ2FyZCgpe1xyXG4gICAgdGhpcy5fZWxlbS5yZW1vdmUoKTtcclxuICAgIHRoaXMuX2J0bkRlbGV0ZS5yZW1vdmVFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgdGhpcy5fYnRuRGVsZXRlQ2FsbGJhY2spO1xyXG4gIH1cclxuXHJcbiAgX2ltZ0NsaWNrSGFuZGxlcigpIHtcclxuICAgIHRoaXMuX2ltZy5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgdGhpcy5faW1nQ2FsbGJhY2spO1xyXG4gIH1cclxuXHJcbiAgX2J0bkxpa2VDbGlja0hhbmRsZXIoKSB7XHJcbiAgICB0aGlzLl9idG5MaWtlLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoZXZ0KSA9PiB7XHJcbiAgICAgIGlmKGV2dC50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKHRoaXMuX2luZm8uYnRuTGlrZUFjdGl2ZUNsYXNzKSl7XHJcbiAgICAgICAgdGhpcy5fbGlrZUNhbGxiYWNrKGZhbHNlKS50aGVuKChyZXMpPT57XHJcbiAgICAgICAgICBldnQudGFyZ2V0LmNsYXNzTGlzdC5yZW1vdmUodGhpcy5faW5mby5idG5MaWtlQWN0aXZlQ2xhc3MpO1xyXG4gICAgICAgICAgdGhpcy5fbGlrZXNDb3VudC50ZXh0Q29udGVudCA9IHJlcy5saWtlcy5sZW5ndGg7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH1lbHNle1xyXG4gICAgICAgIHRoaXMuX2xpa2VDYWxsYmFjayh0cnVlKS50aGVuKChyZXMpPT57XHJcbiAgICAgICAgICBldnQudGFyZ2V0LmNsYXNzTGlzdC5hZGQodGhpcy5faW5mby5idG5MaWtlQWN0aXZlQ2xhc3MpO1xyXG4gICAgICAgICAgdGhpcy5fbGlrZXNDb3VudC50ZXh0Q29udGVudCA9IHJlcy5saWtlcy5sZW5ndGg7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gIH1cclxufVxyXG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBGb3JtVmFsaWRhdG9yIHtcclxuICBjb25zdHJ1Y3Rvcihjb25maWcsIGZvcm0pIHtcclxuICAgIHRoaXMuX2NvbmZpZyA9IGNvbmZpZztcclxuICAgIHRoaXMuX2Zvcm0gPSBmb3JtO1xyXG4gICAgdGhpcy5faW5wdXRMaXN0ID0gQXJyYXkuZnJvbShcclxuICAgICAgdGhpcy5fZm9ybS5xdWVyeVNlbGVjdG9yQWxsKHRoaXMuX2NvbmZpZy5pbnB1dFNlbGVjdG9yKVxyXG4gICAgKTtcclxuICAgIHRoaXMuX2J1dHRvbkVsZW1lbnQgPSB0aGlzLl9mb3JtLnF1ZXJ5U2VsZWN0b3IoXHJcbiAgICAgIHRoaXMuX2NvbmZpZy5zdWJtaXRCdXR0b25TZWxlY3RvclxyXG4gICAgKTtcclxuICB9XHJcblxyXG4gIGNoZWNrVmFsaWRpdHkoKSB7XHJcbiAgICB0aGlzLl9pbnB1dExpc3QuZm9yRWFjaCgoaW5wdXQpID0+IHtcclxuICAgICAgdGhpcy5faGlkZUlucHV0RXJyb3IoaW5wdXQpO1xyXG4gICAgfSk7XHJcbiAgICB0aGlzLl90b2dnbGVCdXR0b25TdGF0ZSh0aGlzLl9idXR0b25FbGVtZW50KTtcclxuICB9XHJcblxyXG4gIGVuYWJsZVZhbGlkYXRpb24oKSB7XHJcbiAgICB0aGlzLl9mb3JtLmFkZEV2ZW50TGlzdGVuZXIoXCJzdWJtaXRcIiwgKGV2dCkgPT4ge1xyXG4gICAgICBldnQucHJldmVudERlZmF1bHQoKTtcclxuICAgIH0pO1xyXG4gICAgdGhpcy5faGFuZGxlRXZlbnRMaXN0ZW5lcnMoKTtcclxuICB9XHJcblxyXG4gIF9oYW5kbGVFdmVudExpc3RlbmVycygpIHtcclxuICAgIHRoaXMuX3RvZ2dsZUJ1dHRvblN0YXRlKHRoaXMuX2J1dHRvbkVsZW1lbnQpO1xyXG5cclxuICAgIHRoaXMuX2lucHV0TGlzdC5mb3JFYWNoKChpbnB1dCkgPT4ge1xyXG4gICAgICBpbnB1dC5hZGRFdmVudExpc3RlbmVyKFwiaW5wdXRcIiwgKCkgPT4ge1xyXG4gICAgICAgIHRoaXMuX2NoZWNrSW5wdXRWYWxpZGl0eShpbnB1dCk7XHJcbiAgICAgICAgdGhpcy5fdG9nZ2xlQnV0dG9uU3RhdGUodGhpcy5fYnV0dG9uRWxlbWVudCk7XHJcbiAgICAgIH0pO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBfdG9nZ2xlQnV0dG9uU3RhdGUoKSB7XHJcbiAgICBpZiAodGhpcy5faGFzSW52YWxpZElucHV0KCkpIHtcclxuICAgICAgdGhpcy5fYnV0dG9uRWxlbWVudC5kaXNhYmxlZCA9IHRydWU7XHJcbiAgICAgIHRoaXMuX2J1dHRvbkVsZW1lbnQuY2xhc3NMaXN0LmFkZCh0aGlzLl9jb25maWcuaW5hY3RpdmVCdXR0b25DbGFzcyk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLl9idXR0b25FbGVtZW50LmRpc2FibGVkID0gZmFsc2U7XHJcbiAgICAgIHRoaXMuX2J1dHRvbkVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl9jb25maWcuaW5hY3RpdmVCdXR0b25DbGFzcyk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBfY2hlY2tJbnB1dFZhbGlkaXR5KGlucHV0KSB7XHJcbiAgICBpZiAoIWlucHV0LnZhbGlkaXR5LnZhbGlkKSB7XHJcbiAgICAgIHRoaXMuX3Nob3dJbnB1dEVycm9yKGlucHV0LCBpbnB1dC52YWxpZGF0aW9uTWVzc2FnZSk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLl9oaWRlSW5wdXRFcnJvcihpbnB1dCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBfc2hvd0lucHV0RXJyb3IoaW5wdXRFbGVtZW50LCBlcnJvck1lc3NhZ2UpIHtcclxuICAgIGNvbnN0IGVycm9yRWxlbWVudCA9IHRoaXMuX2Zvcm0ucXVlcnlTZWxlY3RvcihgIyR7aW5wdXRFbGVtZW50LmlkfS1lcnJvcmApO1xyXG4gICAgaW5wdXRFbGVtZW50LmNsYXNzTGlzdC5hZGQodGhpcy5fY29uZmlnLmlucHV0RXJyb3JDbGFzcyk7XHJcbiAgICBlcnJvckVsZW1lbnQudGV4dENvbnRlbnQgPSBlcnJvck1lc3NhZ2U7XHJcbiAgfVxyXG5cclxuICBfaGlkZUlucHV0RXJyb3IoaW5wdXRFbGVtZW50KSB7XHJcbiAgICBjb25zdCBlcnJvckVsZW1lbnQgPSB0aGlzLl9mb3JtLnF1ZXJ5U2VsZWN0b3IoYCMke2lucHV0RWxlbWVudC5pZH0tZXJyb3JgKTtcclxuICAgIGlucHV0RWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX2NvbmZpZy5pbnB1dEVycm9yQ2xhc3MpO1xyXG4gICAgZXJyb3JFbGVtZW50LnRleHRDb250ZW50ID0gXCJcIjtcclxuICB9XHJcblxyXG4gIF9oYXNJbnZhbGlkSW5wdXQoKSB7XHJcbiAgICByZXR1cm4gdGhpcy5faW5wdXRMaXN0LnNvbWUoKGlucHV0KSA9PiB7XHJcbiAgICAgIHJldHVybiAhaW5wdXQudmFsaWRpdHkudmFsaWQ7XHJcbiAgICB9KTtcclxuICB9XHJcbn1cclxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wdXAge1xyXG4gIGNvbnN0cnVjdG9yKHsgcG9wdXBTZWxlY3RvciB9LCBpbmZvKSB7XHJcbiAgICB0aGlzLl9lbGVtID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihwb3B1cFNlbGVjdG9yKTtcclxuICAgIHRoaXMuX2hpZGRlbkNsYXNzID0gaW5mby5oaWRkZW5DbGFzcztcclxuICAgIHRoaXMuX2J0bkNsb3NlID0gdGhpcy5fZWxlbS5xdWVyeVNlbGVjdG9yKGluZm8uYnRuQ2xvc2UpO1xyXG4gIH1cclxuXHJcbiAgZ2V0RWxlbWVudCgpIHtcclxuICAgIHJldHVybiB0aGlzLl9lbGVtO1xyXG4gIH1cclxuXHJcbiAgb3BlbigpIHtcclxuICAgIHRoaXMuX2VsZW0uY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl9oaWRkZW5DbGFzcyk7XHJcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCB0aGlzLl9oYW5kbGVFc2NDbG9zZSk7XHJcbiAgfVxyXG5cclxuICBjbG9zZSgpIHtcclxuICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIHRoaXMuX2hhbmRsZUVzY0Nsb3NlKTtcclxuICAgIHRoaXMuX2VsZW0uY2xhc3NMaXN0LmFkZCh0aGlzLl9oaWRkZW5DbGFzcyk7XHJcbiAgfVxyXG5cclxuICBzZXRFdmVudExpc3RlbmVycygpIHtcclxuICAgIC8vY2VycmFyIGVsIGZvcm11bGFyaW8gY2xpY2tlYW5kbyBhZnVlcmFcclxuICAgIHRoaXMuX2VsZW0uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIHRoaXMuX2NsaWNrT3ZlckNhbGxiYWNrKTtcclxuXHJcbiAgICAvL2NlcnJhciBlbCBmb3JtdWxhcmlvIGNvbiBlbCBidG4gY2VycmFyXHJcbiAgICB0aGlzLl9idG5DbG9zZS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgdGhpcy5fYnRuQ2xvc2VDYWxsYmFjayk7XHJcbiAgfVxyXG5cclxuICBfY2xpY2tPdmVyQ2FsbGJhY2sgPSAoZXZ0KSA9PiB7XHJcbiAgICBpZiAoZXZ0LnRhcmdldCA9PT0gdGhpcy5fZWxlbSkge1xyXG4gICAgICB0aGlzLmNsb3NlKCk7XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgX2J0bkNsb3NlQ2FsbGJhY2sgPSAoZXZ0KSA9PiB7XHJcbiAgICB0aGlzLmNsb3NlKCk7XHJcbiAgfTtcclxuXHJcbiAgX2hhbmRsZUVzY0Nsb3NlID0gKGV2dCkgPT4ge1xyXG4gICAgc3dpdGNoIChldnQua2V5KSB7XHJcbiAgICAgIGNhc2UgXCJFc2NcIjpcclxuICAgICAgY2FzZSBcIkVzY2FwZVwiOlxyXG4gICAgICAgIHRoaXMuY2xvc2UoKTtcclxuICAgIH1cclxuICB9O1xyXG59XHJcbiIsImltcG9ydCBQb3B1cCBmcm9tIFwiLi9Qb3B1cC5qc1wiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wdXBXaXRoRm9ybSBleHRlbmRzIFBvcHVwIHtcclxuICBjb25zdHJ1Y3Rvcih7IHBvcHVwU2VsZWN0b3IgfSwgaW5mbywgc3VibWl0Q2FsbGJhY2spIHtcclxuICAgIHN1cGVyKHsgcG9wdXBTZWxlY3RvciB9LCBpbmZvKTtcclxuXHJcbiAgICB0aGlzLl9pbnB1dExpc3QgPSBBcnJheS5mcm9tKFxyXG4gICAgICB0aGlzLl9lbGVtLnF1ZXJ5U2VsZWN0b3JBbGwoaW5mby5pbnB1dFNlbGVjdG9yKVxyXG4gICAgKTtcclxuXHJcbiAgICB0aGlzLl9idG5TdWJtaXQgPSB0aGlzLl9lbGVtLnF1ZXJ5U2VsZWN0b3IoaW5mby5idG5TdWJtaXRTZWxlY3Rvcik7XHJcblxyXG4gICAgdGhpcy5fc3VibWl0RXh0ZXJuYWxDYWxsYmFjayA9IHN1Ym1pdENhbGxiYWNrO1xyXG4gICAgdGhpcy5zZXRFdmVudExpc3RlbmVycygpO1xyXG4gIH1cclxuXHJcbiAgY2xvc2UoKSB7XHJcbiAgICBzdXBlci5jbG9zZSgpO1xyXG4gICAgdGhpcy5fZWxlbS5yZXNldCgpO1xyXG4gIH1cclxuXHJcbiAgc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XHJcbiAgICB0aGlzLl9lbGVtLmFkZEV2ZW50TGlzdGVuZXIoXCJzdWJtaXRcIiwgdGhpcy5fc3VibWl0SW50ZXJuYWxDYWxsYmFjayk7XHJcbiAgICBzdXBlci5zZXRFdmVudExpc3RlbmVycygpO1xyXG4gIH1cclxuXHJcbiAgX3N1Ym1pdEludGVybmFsQ2FsbGJhY2sgPSAoZXZ0KSA9PiB7XHJcbiAgICB0aGlzLl9zdWJtaXRFeHRlcm5hbENhbGxiYWNrKGV2dCk7XHJcbiAgfTtcclxuXHJcbiAgZ2V0SW5wdXRWYWx1ZXMoKSB7XHJcbiAgICBjb25zdCB2YWx1ZXMgPSB7fTtcclxuICAgIHRoaXMuX2lucHV0TGlzdC5mb3JFYWNoKChpbnB1dCkgPT4gKHZhbHVlc1tpbnB1dC5uYW1lXSA9IGlucHV0LnZhbHVlKSk7XHJcbiAgICByZXR1cm4gdmFsdWVzO1xyXG4gIH1cclxuXHJcbiAgc2V0SW5wdXRWYWx1ZXMoZGF0YSkge1xyXG4gICAgdGhpcy5faW5wdXRMaXN0LmZvckVhY2goKGlucHV0KSA9PiB7XHJcbiAgICAgIGlucHV0LnZhbHVlID0gZGF0YVtpbnB1dC5uYW1lXTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgc2V0U3VibWl0QnV0dG9uVGV4dCh0ZXh0KSB7XHJcbiAgICB0aGlzLl9idG5TdWJtaXQudGV4dENvbnRlbnQgPSB0ZXh0O1xyXG4gIH1cclxufVxyXG4iLCJpbXBvcnQgUG9wdXAgZnJvbSBcIi4vUG9wdXAuanNcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwV2l0aEltYWdlIGV4dGVuZHMgUG9wdXAge1xyXG4gIGNvbnN0cnVjdG9yKHBvcHVwU2VsZWN0b3IsIGluZm8pIHtcclxuICAgIHN1cGVyKHsgcG9wdXBTZWxlY3RvciB9LCBpbmZvKTtcclxuICAgIHRoaXMuX3ZpZXdJbWcgPSB0aGlzLmdldEVsZW1lbnQoKS5xdWVyeVNlbGVjdG9yKFwiLnZpZXdfX2ltYWdlXCIpO1xyXG4gICAgdGhpcy5fdGFyZ2V0TmFtZSA9IHRoaXMuZ2V0RWxlbWVudCgpLnF1ZXJ5U2VsZWN0b3IoXCIudmlld19fdGl0bGVcIik7XHJcbiAgICB0aGlzLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcbiAgfVxyXG5cclxuICBvcGVuKHRhcmdldCkge1xyXG4gICAgdGhpcy5fdmlld0ltZy5zcmMgPSB0YXJnZXQuc3JjO1xyXG4gICAgdGhpcy5fdmlld0ltZy5hbHQgPSB0YXJnZXQuYWx0O1xyXG4gICAgdGhpcy5fdGFyZ2V0TmFtZS50ZXh0Q29udGVudCA9IHRhcmdldC5uYW1lO1xyXG4gICAgc3VwZXIub3BlbigpO1xyXG4gIH1cclxuXHJcbiAgc2hvd0VsZW1lbnQgPSAoZXZ0KSA9PiB7XHJcbiAgICB0aGlzLm9wZW4oZXZ0LnRhcmdldCk7XHJcbiAgfTtcclxufVxyXG4iLCJpbXBvcnQgUG9wdXAgZnJvbSBcIi4vUG9wdXAuanNcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwV2l0aENvbmZpcm1hdGlvbiBleHRlbmRzIFBvcHVwIHtcclxuICBjb25zdHJ1Y3Rvcihwb3B1cFNlbGVjdG9yLCBpbmZvKSB7XHJcbiAgICBzdXBlcih7cG9wdXBTZWxlY3Rvcn0sIGluZm8pO1xyXG4gICAgc3VwZXIuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuICB9XHJcblxyXG4gIHNob3coKXtcclxuICAgIHRoaXMuX2VsZW0uY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl9oaWRkZW5DbGFzcyk7XHJcbiAgfVxyXG5cclxuICBoaWRlKCl7XHJcbiAgICB0aGlzLl9lbGVtLmNsYXNzTGlzdC5hZGQodGhpcy5faGlkZGVuQ2xhc3MpO1xyXG4gIH1cclxuXHJcbiAgc2V0U3VibWl0TGlzdGVuZXIoY2FsbGJhY2spIHtcclxuICAgIHRoaXMuX2VsZW0uYWRkRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLCBjYWxsYmFjayk7XHJcbiAgfVxyXG4gIC8qXHJcbiAgcmVtb3ZlU3VibWl0TGlzdGVuZXIoKXtcclxuICAgIHRoaXMuX2VsZW0ucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLCB0aGlzLl9jYWxsYmFjayk7XHJcbiAgfSovXHJcbn1cclxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgU2VjdGlvbiB7XHJcbiAgY29uc3RydWN0b3IoeyBpdGVtcywgcmVuZGVyZXIgfSwgY29udGFpbmVyU2VsZWN0b3IpIHtcclxuICAgIHRoaXMuX2l0ZW1zID0gaXRlbXM7XHJcbiAgICB0aGlzLl9yZW5kZXJlciA9IHJlbmRlcmVyO1xyXG4gICAgdGhpcy5fY29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihjb250YWluZXJTZWxlY3Rvcik7XHJcbiAgfVxyXG5cclxuICByZW5kZXIoKSB7XHJcbiAgICB0aGlzLl9pdGVtcy5mb3JFYWNoKChpdGVtKSA9PiB7XHJcbiAgICAgIHRoaXMuX3JlbmRlcmVyKGl0ZW0sIHRoaXMpO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBhZGRJdGVtKGl0ZW0pIHtcclxuICAgIHRoaXMuX2NvbnRhaW5lci5wcmVwZW5kKGl0ZW0pO1xyXG4gIH1cclxufVxyXG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBVc2VySW5mbyB7XHJcbiAgY29uc3RydWN0b3IoeyBuYW1lU2VsZWN0b3IsIGFib3V0U2VsZWN0b3IsIGF2YXRhclNlbGVjdG9yfSkge1xyXG4gICAgdGhpcy5fZGF0YUlkID0gXCJcIjtcclxuICAgIHRoaXMuX2RhdGFOYW1lID0gXCJcIjtcclxuICAgIHRoaXMuX2RhdGFBYm91dCA9IFwiXCI7XHJcbiAgICB0aGlzLl9kYXRhSW1nVXJsID0gXCJcIjtcclxuICAgIHRoaXMuX25hbWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKG5hbWVTZWxlY3Rvcik7XHJcbiAgICB0aGlzLl9hYm91dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYWJvdXRTZWxlY3Rvcik7XHJcbiAgICB0aGlzLl9hdmF0YXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGF2YXRhclNlbGVjdG9yKTtcclxuICAgIHRoaXMuX2F2YXRhci5zcmMgPSB0aGlzLl9kYXRhSW1nVXJsO1xyXG4gIH1cclxuXHJcbiAgZ2V0VXNlckluZm8oKSB7XHJcbiAgICAvLyByZXRvcm5hIHVuIG9iamV0byBjb24gbG9zIGRhdG9zIGRlbCB1c3VhcmlvXHJcbiAgICByZXR1cm4geyBuYW1lOnRoaXMuX25hbWUudGV4dENvbnRlbnQsIGFib3V0OnRoaXMuX2Fib3V0LnRleHRDb250ZW50fTtcclxuICB9XHJcblxyXG4gIGdldElkKCl7cmV0dXJuIHRoaXMuX2RhdGFJZDt9XHJcblxyXG4gIHNldEluaXRpYWxEYXRhKHtpZCwgbmFtZSwgYWJvdXQsIGltZ1VybH0pe1xyXG4gICAgdGhpcy5fZGF0YUlkID0gaWQ7XHJcbiAgICB0aGlzLl9kYXRhTmFtZSA9IG5hbWU7XHJcbiAgICB0aGlzLl9kYXRhQWJvdXQgPSBhYm91dDtcclxuICAgIHRoaXMuX2RhdGFJbWdVcmwgPSBpbWdVcmw7XHJcbiAgICB0aGlzLnNldFVzZXJJbmZvKHtuYW1lLCBhYm91dH0pO1xyXG4gICAgdGhpcy5zZXRVc2VyQXZhdGFyKHRoaXMuX2RhdGFJbWdVcmwpO1xyXG4gIH1cclxuXHJcbiAgc2V0VXNlckF2YXRhcih1cmwpe1xyXG4gICAgdGhpcy5fYXZhdGFyLnNyYyA9IHVybDtcclxuICB9XHJcblxyXG4gIHNldFVzZXJJbmZvKHtuYW1lLCBhYm91dH0pIHtcclxuICAgIC8vcmVjaXZlIHVuIG9iamV0byBjb24gZGF0b3MgZGVsIHVzdWFyaW8geSBsbyBhY3R1YWxpemEgZW4gZWwgRE9NXHJcbiAgICB0aGlzLl9uYW1lLnRleHRDb250ZW50ID0gbmFtZTtcclxuICAgIHRoaXMuX2Fib3V0LnRleHRDb250ZW50ID0gYWJvdXQ7XHJcbiAgfVxyXG59XHJcbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIEFwaSB7XHJcbiAgY29uc3RydWN0b3IoeyB1c2VyLCB1cmwsIGhlYWRlcnMgfSkge1xyXG4gICAgdGhpcy5fdXNlciA9IHVzZXI7XHJcbiAgICB0aGlzLl91cmwgPSB1cmw7XHJcbiAgICB0aGlzLl9oZWFkZXJzID0gaGVhZGVycztcclxuICB9XHJcblxyXG4gIF9tYWtlUmVxdWVzdChtZXRob2QsIHVybCwgYm9keSkge1xyXG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX3VybH0ke3VybH1gLCB7XHJcbiAgICAgIG1ldGhvZDogbWV0aG9kLFxyXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxyXG4gICAgICBib2R5OiBtZXRob2QgIT09IFwiR0VUXCIgPyBKU09OLnN0cmluZ2lmeShib2R5KSA6IHVuZGVmaW5lZCxcclxuICAgIH0pLnRoZW4oKHJlcykgPT4ge1xyXG4gICAgICByZXR1cm4gcmVzLm9rID8gcmVzLmpzb24oKSA6IFByb21pc2UucmVqZWN0KGBFcnJvcjogJHtyZXMuc3RhdHVzVGV4dH1gKTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgZ2V0VXNlckluZm8oKSB7XHJcbiAgICByZXR1cm4gdGhpcy5fbWFrZVJlcXVlc3QoXCJHRVRcIiwgYC91c2Vycy8ke3RoaXMuX3VzZXJ9YCk7XHJcbiAgfVxyXG5cclxuICBnZXRJbml0aWFsQ2FyZHMoKSB7XHJcbiAgICByZXR1cm4gdGhpcy5fbWFrZVJlcXVlc3QoXCJHRVRcIiwgXCIvY2FyZHNcIik7XHJcbiAgfVxyXG5cclxuICBlZGl0UHJvZmlsZShuYW1lLCBhYm91dCkge1xyXG4gICAgcmV0dXJuIHRoaXMuX21ha2VSZXF1ZXN0KFwiUEFUQ0hcIiwgYC91c2Vycy8ke3RoaXMuX3VzZXJ9YCwge1xyXG4gICAgICBuYW1lOiBuYW1lLFxyXG4gICAgICBhYm91dDogYWJvdXQsXHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIGFkZE5ld0NhcmQobmFtZSwgdXJsKSB7XHJcbiAgICByZXR1cm4gdGhpcy5fbWFrZVJlcXVlc3QoXCJQT1NUXCIsIGAvY2FyZHNgLCB7XHJcbiAgICAgIG5hbWU6IG5hbWUsXHJcbiAgICAgIGxpbms6IHVybCxcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgZGVsZXRlQ2FyZChjYXJkSWQpIHtcclxuICAgIHJldHVybiB0aGlzLl9tYWtlUmVxdWVzdChcIkRFTEVURVwiLCBgL2NhcmRzLyR7Y2FyZElkfWApO1xyXG4gIH1cclxuXHJcbiAgYWRkTmV3TGlrZShjYXJkSWQpIHtcclxuICAgIHJldHVybiB0aGlzLl9tYWtlUmVxdWVzdChcIlBVVFwiLCBgL2NhcmRzL2xpa2VzLyR7Y2FyZElkfWApO1xyXG4gIH1cclxuXHJcbiAgcmVtb3ZlTGlrZShjYXJkSWQpIHtcclxuICAgIHJldHVybiB0aGlzLl9tYWtlUmVxdWVzdChcIkRFTEVURVwiLCBgL2NhcmRzL2xpa2VzLyR7Y2FyZElkfWApO1xyXG4gIH1cclxuXHJcbiAgc2V0UHJvZmlsZUltYWdlKHVybCkge1xyXG4gICAgcmV0dXJuIHRoaXMuX21ha2VSZXF1ZXN0KFwiUEFUQ0hcIiwgYC91c2Vycy8ke3RoaXMuX3VzZXJ9L2F2YXRhcmAsIHtcclxuICAgICAgYXZhdGFyOiB1cmwsXHJcbiAgICB9KTtcclxuICB9XHJcbn1cclxuIiwiaW1wb3J0IFVzZXJJbmZvIGZyb20gXCIuLi9jb21wb25lbnRzL1VzZXJJbmZvXCI7XHJcblxyXG5jb25zdCBmb3JtSW5mbyA9IHtcclxuICBidG5DbG9zZTogXCIuZm9ybV9fYnRuLWNsb3NlXCIsXHJcbiAgaGlkZGVuQ2xhc3M6IFwicG9wdXBfaGlkZGVuXCIsXHJcbiAgaW5wdXRTZWxlY3RvcjogXCIuaW5wdXRcIixcclxuICBidG5TdWJtaXRTZWxlY3RvcjogXCIuYnRuX3N1Ym1pdFwiLFxyXG59O1xyXG5cclxuY29uc3QgZm9ybVRleHRJbmZvID0ge1xyXG4gIGxvYWRpbmdUZXh0OiBcIkd1YXJkYW5kby4uLlwiLFxyXG4gIGJ0blN1Ym1pdFRleHQ6IFwiR3VhcmRhclwiLFxyXG59O1xyXG5cclxuY29uc3QgY2FyZEluZm8gPSB7XHJcbiAgY2FyZENsYXNzOiBcIi5jYXJkXCIsXHJcbiAgaW1nQ2xhc3M6IFwiLmNhcmRfX2ltYWdlXCIsXHJcbiAgYnRuRGVsZXRlQ2xhc3M6IFwiLmJ0bl9kZWxldGVcIixcclxuICBidG5EZWxldGVIaWRkZW46IFwiYnRuX2RlbGV0ZV9oaWRkZW5cIixcclxuICBidG5MaWtlQ2xhc3M6IFwiLmJ0bl9saWtlXCIsXHJcbiAgY2FyZFRleHRDbGFzczogXCIuY2FyZF9fdGV4dFwiLFxyXG4gIGJ0bkxpa2VBY3RpdmVDbGFzczogXCJidG5fbGlrZV9hY3RpdmVcIixcclxuICB0ZW1wbGF0ZVNlbGVjdG9yOiBcIiN0ZW1wbGF0ZS1jYXJkXCIsXHJcbiAgbGlrZXNDb3VudENsYXNzOiBcIi5jYXJkX19saWtlcy1jb3VudFwiLFxyXG59O1xyXG5cclxuY29uc3QgdmFsaWRhdG9yQ29uZmlnID0ge1xyXG4gIGZvcm1TZWxlY3RvcjogXCIuZm9ybVwiLFxyXG4gIGlucHV0U2VsZWN0b3I6IFwiLmlucHV0XCIsXHJcbiAgc3VibWl0QnV0dG9uU2VsZWN0b3I6IFwiLmZvcm1fX2J0bi1zdWJtaXRcIixcclxuICBpbmFjdGl2ZUJ1dHRvbkNsYXNzOiBcImJ0bl9pbmFjdGl2ZVwiLFxyXG4gIGlucHV0RXJyb3JDbGFzczogXCJpbnB1dF90eXBlX2Vycm9yXCIsXHJcbn07XHJcblxyXG5jb25zdCB2aWV3U2VjdGlvbkluZm8gPSB7XHJcbiAgaGlkZGVuQ2xhc3M6IFwicG9wdXBfaGlkZGVuXCIsXHJcbiAgYnRuQ2xvc2U6IFwiLnZpZXdfX2J0bi1jbG9zZVwiLFxyXG59O1xyXG5cclxuY29uc3QgZ2xvYmFsSW5mbyA9IHtcclxuICB2aWV3U2VjdGlvbkNsYXNzOiBcIi52aWV3XCIsXHJcbiAgY2FyZFNlY3Rpb25DbGFzczogXCIuZWxlbWVudHNcIixcclxuICBwcm9maWxlRm9ybVRlbXBsYXRlSWQ6IFwiI2Zvcm0tZWRpdFwiLFxyXG4gIGZvcm1DbGFzczogXCIuZm9ybVwiLFxyXG4gIHByb2ZpbGVOYW1lQ2xhc3M6IFwiLnByb2ZpbGVfX25hbWVcIixcclxuICBwcm9maWxlQWJvdXRDbGFzczogXCIucHJvZmlsZV9fYWJvdXRcIixcclxuICBidG5FZGl0UHJvZmlsZUNsYXNzOiBcIi5idG5fZWRpdFwiLFxyXG4gIGNhcmRGb3JtVGVtcGxhdGVJZDogXCIjZm9ybS1hZGRcIixcclxuICBidG5BZGRDYXJkQ2xhc3M6IFwiLmJ0bl9hZGRcIixcclxuICBjb25maXJtYXRpb25Gb3JtU2VsZWN0b3I6IFwiI2Zvcm0tZGVsZXRlXCIsXHJcbiAgcHJvZmlsZUVkaXRDb3ZlcjogXCIucHJvZmlsZV9fZWRpdC1jb3ZlclwiLFxyXG4gIHByb2ZpbGVBdmF0YXJTZWxlY3RvcjogXCIucHJvZmlsZV9fYXZhdGFyXCIsXHJcbiAgYXZhdGFyRm9ybVNlbGVjdG9yOiBcIiNmb3JtLXByb2ZpbGUtaW1nXCIsXHJcbn07XHJcblxyXG5jb25zdCBhcGlJbmZvID0ge1xyXG4gIHVzZXI6IFwibWVcIixcclxuICB1cmw6IGBodHRwczovL2Fyb3VuZC5ub21vcmVwYXJ0aWVzLmNvL3YxL3dlYl9lc19jb2hvcnRfMDJgLFxyXG4gIGhlYWRlcnM6IHtcclxuICAgIGF1dGhvcml6YXRpb246IFwiNDM4MjFmMDEtNGIyNi00M2I2LTk5NGYtNzJiZmM5NjBkYWM0XCIsXHJcbiAgICBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIixcclxuICB9LFxyXG59O1xyXG5cclxuZXhwb3J0IHtcclxuICBmb3JtSW5mbyxcclxuICBjYXJkSW5mbyxcclxuICB2aWV3U2VjdGlvbkluZm8sXHJcbiAgdmFsaWRhdG9yQ29uZmlnLFxyXG4gIGdsb2JhbEluZm8sXHJcbiAgZm9ybVRleHRJbmZvLFxyXG4gIGFwaUluZm8sXHJcbn07XHJcbiIsImV4cG9ydCBjb25zdCBoYW5kbGVTZXJ2ZXJFcnJvciA9IChlcnIpID0+IHtcclxuICBjb25zb2xlLmxvZyhlcnIpO1xyXG59O1xyXG4iLCJpbXBvcnQgQ2FyZCBmcm9tIFwiLi4vY29tcG9uZW50cy9DYXJkLmpzXCI7XHJcbmltcG9ydCBGb3JtVmFsaWRhdG9yIGZyb20gXCIuLi9jb21wb25lbnRzL0Zvcm1WYWxpZGF0b3IuanNcIjtcclxuaW1wb3J0IFBvcHVwV2l0aEZvcm0gZnJvbSBcIi4uL2NvbXBvbmVudHMvUG9wdXBXaXRoRm9ybS5qc1wiO1xyXG5pbXBvcnQgUG9wdXBXaXRoSW1hZ2UgZnJvbSBcIi4uL2NvbXBvbmVudHMvUG9wdXBXaXRoSW1hZ2UuanNcIjtcclxuaW1wb3J0IFBvcHVwV2l0aENvbmZpcm1hdGlvbiBmcm9tIFwiLi4vY29tcG9uZW50cy9Qb3B1cFdpdGhDb25maXJtYXRpb24uanNcIjtcclxuaW1wb3J0IFNlY3Rpb24gZnJvbSBcIi4uL2NvbXBvbmVudHMvU2VjdGlvbi5qc1wiO1xyXG5pbXBvcnQgVXNlckluZm8gZnJvbSBcIi4uL2NvbXBvbmVudHMvVXNlckluZm8uanNcIjtcclxuaW1wb3J0IEFwaSBmcm9tIFwiLi4vY29tcG9uZW50cy9BcGkuanNcIjtcclxuaW1wb3J0IHtcclxuICBmb3JtSW5mbyxcclxuICBjYXJkSW5mbyxcclxuICB2aWV3U2VjdGlvbkluZm8sXHJcbiAgZ2xvYmFsSW5mbyxcclxuICB2YWxpZGF0b3JDb25maWcsXHJcbiAgZm9ybVRleHRJbmZvLFxyXG4gIGFwaUluZm8sXHJcbn0gZnJvbSBcIi4uL3V0aWxzL2NvbnN0YW50cy5qc1wiO1xyXG5pbXBvcnQgeyBoYW5kbGVTZXJ2ZXJFcnJvciB9IGZyb20gXCIuLi91dGlscy91dGlscy5qc1wiO1xyXG5cclxuaW1wb3J0IFwiLi9pbmRleC5jc3NcIjtcclxuXHJcbi8vLS0tLS0tLS0tLS0gQXBpIC0tLS0tLS0tLS0tLS0tXHJcbmNvbnN0IGFwaSA9IG5ldyBBcGkoe1xyXG4gIHVzZXI6IGFwaUluZm8udXNlcixcclxuICB1cmw6IGFwaUluZm8udXJsLFxyXG4gIGhlYWRlcnM6IGFwaUluZm8uaGVhZGVycyxcclxufSk7XHJcblxyXG5jb25zdCB2aWV3U2VjdGlvbiA9IG5ldyBQb3B1cFdpdGhJbWFnZShcclxuICBnbG9iYWxJbmZvLnZpZXdTZWN0aW9uQ2xhc3MsXHJcbiAgdmlld1NlY3Rpb25JbmZvXHJcbik7XHJcblxyXG5jb25zdCBjb25maXJtYXRpb25Gb3JtID0gbmV3IFBvcHVwV2l0aENvbmZpcm1hdGlvbihcclxuICBnbG9iYWxJbmZvLmNvbmZpcm1hdGlvbkZvcm1TZWxlY3RvcixcclxuICBmb3JtSW5mb1xyXG4pO1xyXG5cclxuLyotLS0tLS0tLSBGb3JtIEVkaXQgUHJvZmlsZSAtLS0tLS0tLSovXHJcbmNvbnN0IHVzZXIgPSBuZXcgVXNlckluZm8oe1xyXG4gIG5hbWVTZWxlY3RvcjogZ2xvYmFsSW5mby5wcm9maWxlTmFtZUNsYXNzLFxyXG4gIGFib3V0U2VsZWN0b3I6IGdsb2JhbEluZm8ucHJvZmlsZUFib3V0Q2xhc3MsXHJcbiAgYXZhdGFyU2VsZWN0b3I6IGdsb2JhbEluZm8ucHJvZmlsZUF2YXRhclNlbGVjdG9yLFxyXG59KTtcclxuXHJcbmFwaVxyXG4gIC5nZXRVc2VySW5mbygpXHJcbiAgLnRoZW4oKGluZm8pID0+IHtcclxuICAgIHVzZXIuc2V0SW5pdGlhbERhdGEoe1xyXG4gICAgICBpZDogaW5mby5faWQsXHJcbiAgICAgIG5hbWU6IGluZm8ubmFtZSxcclxuICAgICAgYWJvdXQ6IGluZm8uYWJvdXQsXHJcbiAgICAgIGltZ1VybDogaW5mby5hdmF0YXIsXHJcbiAgICB9KTtcclxuXHJcbiAgICBjb25zdCBwcm9maWxlRm9ybSA9IG5ldyBQb3B1cFdpdGhGb3JtKFxyXG4gICAgICB7XHJcbiAgICAgICAgcG9wdXBTZWxlY3RvcjogZ2xvYmFsSW5mby5wcm9maWxlRm9ybVRlbXBsYXRlSWQsXHJcbiAgICAgIH0sXHJcbiAgICAgIGZvcm1JbmZvLFxyXG4gICAgICAoZXZ0KSA9PiB7XHJcbiAgICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgcHJvZmlsZUZvcm0uc2V0U3VibWl0QnV0dG9uVGV4dChmb3JtVGV4dEluZm8ubG9hZGluZ1RleHQpO1xyXG4gICAgICAgIGFwaVxyXG4gICAgICAgICAgLmVkaXRQcm9maWxlKFxyXG4gICAgICAgICAgICBwcm9maWxlRm9ybS5nZXRJbnB1dFZhbHVlcygpLm5hbWUsXHJcbiAgICAgICAgICAgIHByb2ZpbGVGb3JtLmdldElucHV0VmFsdWVzKCkudGV4dFxyXG4gICAgICAgICAgKVxyXG4gICAgICAgICAgLnRoZW4oKHJlcykgPT4ge1xyXG4gICAgICAgICAgICBhcGlcclxuICAgICAgICAgICAgICAuZ2V0VXNlckluZm8oKVxyXG4gICAgICAgICAgICAgIC50aGVuKChpbmZvKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB1c2VyLnNldFVzZXJJbmZvKHsgbmFtZTogaW5mby5uYW1lLCBhYm91dDogaW5mby5hYm91dCB9KTtcclxuICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgIC5jYXRjaChoYW5kbGVTZXJ2ZXJFcnJvcilcclxuICAgICAgICAgICAgICAuZmluYWxseSgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBwcm9maWxlRm9ybS5jbG9zZSgpO1xyXG4gICAgICAgICAgICAgICAgcHJvZmlsZUZvcm0uc2V0U3VibWl0QnV0dG9uVGV4dChmb3JtVGV4dEluZm8uYnRuU3VibWl0VGV4dCk7XHJcbiAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICB9KVxyXG4gICAgICAgICAgLmNhdGNoKGhhbmRsZVNlcnZlckVycm9yKTtcclxuICAgICAgfVxyXG4gICAgKTtcclxuXHJcbiAgICBjb25zdCBwcm9maWxlRm9ybUVsZW1lbnQgPSBwcm9maWxlRm9ybS5nZXRFbGVtZW50KCk7XHJcblxyXG4gICAgY29uc3QgcHJvZmlsZUZvcm1WYWxpZGF0b3IgPSBuZXcgRm9ybVZhbGlkYXRvcihcclxuICAgICAgdmFsaWRhdG9yQ29uZmlnLFxyXG4gICAgICBwcm9maWxlRm9ybUVsZW1lbnRcclxuICAgICk7XHJcbiAgICBwcm9maWxlRm9ybVZhbGlkYXRvci5lbmFibGVWYWxpZGF0aW9uKCk7XHJcblxyXG4gICAgLy9jb21wb3J0YW1pZW50byBkZWwgYm90b24gcGFyYSBhYnJpciBlbCBmb3JtdWxhcmlvXHJcbiAgICBjb25zdCBidG5FZGl0UHJvZmlsZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXHJcbiAgICAgIGdsb2JhbEluZm8uYnRuRWRpdFByb2ZpbGVDbGFzc1xyXG4gICAgKTtcclxuICAgIGJ0bkVkaXRQcm9maWxlLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IHsgbmFtZSwgYWJvdXQgfSA9IHVzZXIuZ2V0VXNlckluZm8oKTtcclxuICAgICAgcHJvZmlsZUZvcm0uc2V0SW5wdXRWYWx1ZXMoeyBuYW1lOiBuYW1lLCB0ZXh0OiBhYm91dCB9KTtcclxuICAgICAgcHJvZmlsZUZvcm1WYWxpZGF0b3IuY2hlY2tWYWxpZGl0eSgpO1xyXG4gICAgICBwcm9maWxlRm9ybS5vcGVuKCk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBjb25zdCBlZGl0QXZhdGFyRm9ybSA9IG5ldyBQb3B1cFdpdGhGb3JtKFxyXG4gICAgICB7IHBvcHVwU2VsZWN0b3I6IGdsb2JhbEluZm8uYXZhdGFyRm9ybVNlbGVjdG9yIH0sXHJcbiAgICAgIGZvcm1JbmZvLFxyXG4gICAgICAoKSA9PiB7XHJcbiAgICAgICAgY29uc3QgdXJsID0gZWRpdEF2YXRhckZvcm0uZ2V0SW5wdXRWYWx1ZXMoKS50ZXh0O1xyXG4gICAgICAgIGVkaXRBdmF0YXJGb3JtLnNldFN1Ym1pdEJ1dHRvblRleHQoZm9ybVRleHRJbmZvLmxvYWRpbmdUZXh0KTtcclxuICAgICAgICBhcGlcclxuICAgICAgICAgIC5zZXRQcm9maWxlSW1hZ2UodXJsKVxyXG4gICAgICAgICAgLnRoZW4oKHJlcykgPT4ge1xyXG4gICAgICAgICAgICB1c2VyLnNldFVzZXJBdmF0YXIodXJsKTtcclxuICAgICAgICAgIH0pXHJcbiAgICAgICAgICAuY2F0Y2goaGFuZGxlU2VydmVyRXJyb3IpXHJcbiAgICAgICAgICAuZmluYWxseSgoKSA9PiB7XHJcbiAgICAgICAgICAgIGVkaXRBdmF0YXJGb3JtLmNsb3NlKCk7XHJcbiAgICAgICAgICAgIGVkaXRBdmF0YXJGb3JtLnNldFN1Ym1pdEJ1dHRvblRleHQoZm9ybVRleHRJbmZvLmJ0blN1Ym1pdFRleHQpO1xyXG4gICAgICAgICAgfSk7XHJcbiAgICAgIH1cclxuICAgICk7XHJcbiAgICBjb25zdCBhdmF0YXJGb3JtVmFsaWRhdG9yID0gbmV3IEZvcm1WYWxpZGF0b3IoXHJcbiAgICAgIHZhbGlkYXRvckNvbmZpZyxcclxuICAgICAgZWRpdEF2YXRhckZvcm0uZ2V0RWxlbWVudCgpXHJcbiAgICApO1xyXG4gICAgYXZhdGFyRm9ybVZhbGlkYXRvci5lbmFibGVWYWxpZGF0aW9uKCk7XHJcbiAgICAvL2NvbXBvcnRhbWllbnRvIGRlbCBib3RvbiBwYXJhIGFicmlyIGVsIGZvcm11bGFyaW9cclxuICAgIGNvbnN0IGJ0bkVkaXRBdmF0YXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGdsb2JhbEluZm8ucHJvZmlsZUVkaXRDb3Zlcik7XHJcbiAgICBidG5FZGl0QXZhdGFyLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgICAgIGF2YXRhckZvcm1WYWxpZGF0b3IuY2hlY2tWYWxpZGl0eSgpO1xyXG4gICAgICBlZGl0QXZhdGFyRm9ybS5vcGVuKCk7XHJcbiAgICB9KTtcclxuICB9KVxyXG4gIC5jYXRjaChoYW5kbGVTZXJ2ZXJFcnJvcik7XHJcblxyXG4vKi0tLS0tLS0gQ2FyZCBFbGVtZW50cyAtLS0tLS0tKi9cclxuZnVuY3Rpb24gY3JlYXRlQ2FyZChcclxuICBpdGVtLFxyXG4gIGltZ0NhbGxiYWNrLFxyXG4gIGRlbGV0ZUNhbGxiYWNrLFxyXG4gIGxpa2VDYWxsYmFjayxcclxuICB0aGlzVXNlcklkXHJcbikge1xyXG4gIGNvbnN0IGNhbkRlbGV0ZSA9IHRoaXNVc2VySWQgPT09IGl0ZW0ub3duZXIuX2lkID8gdHJ1ZSA6IGZhbHNlO1xyXG4gIHJldHVybiBuZXcgQ2FyZChcclxuICAgIHsgaWQ6IGl0ZW0uX2lkLCBuYW1lOiBpdGVtLm5hbWUsIGltZ1VybDogaXRlbS5saW5rLCBsaWtlczogaXRlbS5saWtlcyB9LFxyXG4gICAgY2FyZEluZm8sXHJcbiAgICBpbWdDYWxsYmFjayxcclxuICAgIGRlbGV0ZUNhbGxiYWNrLFxyXG4gICAgbGlrZUNhbGxiYWNrLFxyXG4gICAgY2FuRGVsZXRlXHJcbiAgKTtcclxufVxyXG5cclxuZnVuY3Rpb24gZGVsZXRlQ2FyZENhbGxiYWNrKGNhcmQpIHtcclxuICBjb25maXJtYXRpb25Gb3JtLnNldFN1Ym1pdExpc3RlbmVyKChldnQpID0+IHtcclxuICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgYXBpXHJcbiAgICAgIC5kZWxldGVDYXJkKGNhcmQuZ2V0Q2FyZElkKCkpXHJcbiAgICAgIC50aGVuKChyZXMpID0+IHtcclxuICAgICAgICBjYXJkLnJlbW92ZUNhcmQoKTtcclxuICAgICAgICBjb25maXJtYXRpb25Gb3JtLmhpZGUoKTtcclxuICAgICAgfSlcclxuICAgICAgLmNhdGNoKGhhbmRsZVNlcnZlckVycm9yKTtcclxuICB9KTtcclxuICBjb25maXJtYXRpb25Gb3JtLnNob3coKTtcclxufVxyXG5cclxuZnVuY3Rpb24gcmVuZGVySW5kaXZpZHVhbENhcmQoY2FyZCwgc2VjdGlvbikge1xyXG4gIGNvbnN0IG5ld0NhcmQgPSBjcmVhdGVDYXJkKFxyXG4gICAgY2FyZCxcclxuICAgIHZpZXdTZWN0aW9uLnNob3dFbGVtZW50LFxyXG4gICAgKCkgPT4ge1xyXG4gICAgICBkZWxldGVDYXJkQ2FsbGJhY2sobmV3Q2FyZCk7XHJcbiAgICB9LFxyXG4gICAgKGFkZExpa2UpID0+IHtcclxuICAgICAgaWYgKGFkZExpa2UpIHtcclxuICAgICAgICByZXR1cm4gYXBpLmFkZE5ld0xpa2UobmV3Q2FyZC5nZXRDYXJkSWQoKSk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgcmV0dXJuIGFwaS5yZW1vdmVMaWtlKG5ld0NhcmQuZ2V0Q2FyZElkKCkpO1xyXG4gICAgICB9XHJcbiAgICB9LFxyXG4gICAgdXNlci5nZXRJZCgpXHJcbiAgKTtcclxuICBzZWN0aW9uLmFkZEl0ZW0obmV3Q2FyZC5nZXRFbGVtZW50KCkpO1xyXG59XHJcblxyXG5hcGlcclxuICAuZ2V0SW5pdGlhbENhcmRzKClcclxuICAudGhlbigoY2FyZHMpID0+IHtcclxuICAgIGNvbnN0IHNlY3Rpb25DYXJkcyA9IG5ldyBTZWN0aW9uKFxyXG4gICAgICB7XHJcbiAgICAgICAgaXRlbXM6IGNhcmRzLnJldmVyc2UoKSxcclxuICAgICAgICByZW5kZXJlcjogcmVuZGVySW5kaXZpZHVhbENhcmQsXHJcbiAgICAgIH0sXHJcbiAgICAgIGdsb2JhbEluZm8uY2FyZFNlY3Rpb25DbGFzc1xyXG4gICAgKTtcclxuICAgIHNlY3Rpb25DYXJkcy5yZW5kZXIoKTtcclxuXHJcbiAgICAvKi0tLS0tLS0tIEZvcm0gQWRkIENhcmQgLS0tLS0tLS0qL1xyXG4gICAgY29uc3QgY2FyZEZvcm0gPSBuZXcgUG9wdXBXaXRoRm9ybShcclxuICAgICAge1xyXG4gICAgICAgIHBvcHVwU2VsZWN0b3I6IGdsb2JhbEluZm8uY2FyZEZvcm1UZW1wbGF0ZUlkLFxyXG4gICAgICB9LFxyXG4gICAgICBmb3JtSW5mbyxcclxuICAgICAgKGV2dCkgPT4ge1xyXG4gICAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgIGNvbnN0IG5hbWUgPSBjYXJkRm9ybS5nZXRJbnB1dFZhbHVlcygpLm5hbWU7XHJcbiAgICAgICAgY29uc3QgbGluayA9IGNhcmRGb3JtLmdldElucHV0VmFsdWVzKCkudGV4dDtcclxuICAgICAgICBjYXJkRm9ybS5zZXRTdWJtaXRCdXR0b25UZXh0KGZvcm1UZXh0SW5mby5sb2FkaW5nVGV4dCk7XHJcbiAgICAgICAgaWYgKG5hbWUgJiYgbGluaykge1xyXG4gICAgICAgICAgYXBpXHJcbiAgICAgICAgICAgIC5hZGROZXdDYXJkKG5hbWUsIGxpbmspXHJcbiAgICAgICAgICAgIC50aGVuKChyZXMpID0+IHtcclxuICAgICAgICAgICAgICBjb25zdCBuZXdDYXJkID0gY3JlYXRlQ2FyZChcclxuICAgICAgICAgICAgICAgIHJlcyxcclxuICAgICAgICAgICAgICAgIHZpZXdTZWN0aW9uLnNob3dFbGVtZW50LFxyXG4gICAgICAgICAgICAgICAgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICBkZWxldGVDYXJkQ2FsbGJhY2sobmV3Q2FyZCk7XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgKGFkZExpa2UpID0+IHtcclxuICAgICAgICAgICAgICAgICAgaWYgKGFkZExpa2UpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYXBpLmFkZE5ld0xpa2UobmV3Q2FyZC5nZXRDYXJkSWQoKSk7XHJcbiAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGFwaS5yZW1vdmVMaWtlKG5ld0NhcmQuZ2V0Q2FyZElkKCkpO1xyXG4gICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgdXNlci5nZXRJZCgpXHJcbiAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgICBzZWN0aW9uQ2FyZHMuYWRkSXRlbShuZXdDYXJkLmdldEVsZW1lbnQoKSk7XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIC5jYXRjaChoYW5kbGVTZXJ2ZXJFcnJvcilcclxuICAgICAgICAgICAgLmZpbmFsbHkoKCkgPT4ge1xyXG4gICAgICAgICAgICAgIGNhcmRGb3JtLmNsb3NlKCk7XHJcbiAgICAgICAgICAgICAgY2FyZEZvcm0uc2V0U3VibWl0QnV0dG9uVGV4dChmb3JtVGV4dEluZm8uYnRuU3VibWl0VGV4dCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgKTtcclxuXHJcbiAgICBjb25zdCBjYXJkRm9ybUVsZW1lbnQgPSBjYXJkRm9ybS5nZXRFbGVtZW50KCk7XHJcblxyXG4gICAgY29uc3QgY2FyZEZvcm1WYWxpZGF0b3IgPSBuZXcgRm9ybVZhbGlkYXRvcihcclxuICAgICAgdmFsaWRhdG9yQ29uZmlnLFxyXG4gICAgICBjYXJkRm9ybUVsZW1lbnRcclxuICAgICk7XHJcbiAgICBjYXJkRm9ybVZhbGlkYXRvci5lbmFibGVWYWxpZGF0aW9uKCk7XHJcblxyXG4gICAgLy9jb21wb3J0YW1pZW50byBkZWwgYm90b24gcGFyYSBhYnJpciBlbCBmb3JtdWxhcmlvXHJcbiAgICBjb25zdCBidG5BZGRDYXJkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihnbG9iYWxJbmZvLmJ0bkFkZENhcmRDbGFzcyk7XHJcbiAgICBidG5BZGRDYXJkLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgICAgIGNhcmRGb3JtVmFsaWRhdG9yLmNoZWNrVmFsaWRpdHkoKTtcclxuICAgICAgY2FyZEZvcm0ub3BlbigpO1xyXG4gICAgfSk7XHJcbiAgfSlcclxuICAuY2F0Y2goaGFuZGxlU2VydmVyRXJyb3IpO1xyXG4iXSwibmFtZXMiOlsiQ2FyZCIsImluZm8iLCJpbWdDbGlja0NhbGxiYWNrIiwiZGVsZXRlQ2FsbGJhY2siLCJsaWtlQ2FsbGJhY2siLCJjYW5EZWxldGUiLCJpZCIsIm5hbWUiLCJpbWdVcmwiLCJsaWtlcyIsIl9kZWxldGVDYWxsYmFjayIsInRoaXMiLCJfaWQiLCJfbmFtZSIsIl9pbWdVcmwiLCJfaW5mbyIsIl9saWtlcyIsIl9lbGVtIiwiX2dldEVsZW1lbnRGcm9tVGVtcGxhdGUiLCJ0ZW1wbGF0ZVNlbGVjdG9yIiwiX2ltZyIsInF1ZXJ5U2VsZWN0b3IiLCJpbWdDbGFzcyIsIl9idG5EZWxldGUiLCJidG5EZWxldGVDbGFzcyIsIl9idG5MaWtlIiwiYnRuTGlrZUNsYXNzIiwiX2xpa2VzQ291bnQiLCJsaWtlc0NvdW50Q2xhc3MiLCJ0ZXh0Q29udGVudCIsImxlbmd0aCIsImNsYXNzTGlzdCIsImFkZCIsImJ0bkxpa2VBY3RpdmVDbGFzcyIsIl9pbWdDYWxsYmFjayIsIl9saWtlQ2FsbGJhY2siLCJfaGFuZGxlRXZlbnRMaXN0ZW5lcnMiLCJyZW1vdmUiLCJidG5EZWxldGVIaWRkZW4iLCJlbGVtIiwiZG9jdW1lbnQiLCJjb250ZW50IiwiY2FyZENsYXNzIiwiY2xvbmVOb2RlIiwiaW1nIiwic3JjIiwiYWx0IiwiY2FyZFRleHRDbGFzcyIsIl9idG5EZWxldGVDbGlja0hhbmRsZXIiLCJfaW1nQ2xpY2tIYW5kbGVyIiwiX2J0bkxpa2VDbGlja0hhbmRsZXIiLCJhZGRFdmVudExpc3RlbmVyIiwiX2J0bkRlbGV0ZUNhbGxiYWNrIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImV2dCIsInRhcmdldCIsImNvbnRhaW5zIiwidGhlbiIsInJlcyIsIkZvcm1WYWxpZGF0b3IiLCJjb25maWciLCJmb3JtIiwiX2NvbmZpZyIsIl9mb3JtIiwiX2lucHV0TGlzdCIsIkFycmF5IiwiZnJvbSIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJpbnB1dFNlbGVjdG9yIiwiX2J1dHRvbkVsZW1lbnQiLCJzdWJtaXRCdXR0b25TZWxlY3RvciIsImZvckVhY2giLCJpbnB1dCIsIl9oaWRlSW5wdXRFcnJvciIsIl90b2dnbGVCdXR0b25TdGF0ZSIsInByZXZlbnREZWZhdWx0IiwiX2NoZWNrSW5wdXRWYWxpZGl0eSIsIl9oYXNJbnZhbGlkSW5wdXQiLCJkaXNhYmxlZCIsImluYWN0aXZlQnV0dG9uQ2xhc3MiLCJ2YWxpZGl0eSIsInZhbGlkIiwiX3Nob3dJbnB1dEVycm9yIiwidmFsaWRhdGlvbk1lc3NhZ2UiLCJpbnB1dEVsZW1lbnQiLCJlcnJvck1lc3NhZ2UiLCJlcnJvckVsZW1lbnQiLCJpbnB1dEVycm9yQ2xhc3MiLCJzb21lIiwiUG9wdXAiLCJwb3B1cFNlbGVjdG9yIiwiY2xvc2UiLCJrZXkiLCJfaGlkZGVuQ2xhc3MiLCJoaWRkZW5DbGFzcyIsIl9idG5DbG9zZSIsImJ0bkNsb3NlIiwiX2hhbmRsZUVzY0Nsb3NlIiwiX2NsaWNrT3ZlckNhbGxiYWNrIiwiX2J0bkNsb3NlQ2FsbGJhY2siLCJQb3B1cFdpdGhGb3JtIiwic3VibWl0Q2FsbGJhY2siLCJfc3VibWl0RXh0ZXJuYWxDYWxsYmFjayIsIl9idG5TdWJtaXQiLCJidG5TdWJtaXRTZWxlY3RvciIsInNldEV2ZW50TGlzdGVuZXJzIiwicmVzZXQiLCJfc3VibWl0SW50ZXJuYWxDYWxsYmFjayIsInZhbHVlcyIsInZhbHVlIiwiZGF0YSIsInRleHQiLCJQb3B1cFdpdGhJbWFnZSIsIm9wZW4iLCJfdmlld0ltZyIsImdldEVsZW1lbnQiLCJfdGFyZ2V0TmFtZSIsIlBvcHVwV2l0aENvbmZpcm1hdGlvbiIsImNhbGxiYWNrIiwiU2VjdGlvbiIsImNvbnRhaW5lclNlbGVjdG9yIiwiaXRlbXMiLCJyZW5kZXJlciIsIl9pdGVtcyIsIl9yZW5kZXJlciIsIl9jb250YWluZXIiLCJpdGVtIiwicHJlcGVuZCIsIlVzZXJJbmZvIiwibmFtZVNlbGVjdG9yIiwiYWJvdXRTZWxlY3RvciIsImF2YXRhclNlbGVjdG9yIiwiX2RhdGFJZCIsIl9kYXRhTmFtZSIsIl9kYXRhQWJvdXQiLCJfZGF0YUltZ1VybCIsIl9hYm91dCIsIl9hdmF0YXIiLCJhYm91dCIsInNldFVzZXJJbmZvIiwic2V0VXNlckF2YXRhciIsInVybCIsIkFwaSIsInVzZXIiLCJoZWFkZXJzIiwiX3VzZXIiLCJfdXJsIiwiX2hlYWRlcnMiLCJtZXRob2QiLCJib2R5IiwiZmV0Y2giLCJKU09OIiwic3RyaW5naWZ5IiwidW5kZWZpbmVkIiwib2siLCJqc29uIiwiUHJvbWlzZSIsInJlamVjdCIsInN0YXR1c1RleHQiLCJfbWFrZVJlcXVlc3QiLCJsaW5rIiwiY2FyZElkIiwiYXZhdGFyIiwiZm9ybUluZm8iLCJmb3JtVGV4dEluZm8iLCJjYXJkSW5mbyIsInZhbGlkYXRvckNvbmZpZyIsImZvcm1TZWxlY3RvciIsImFwaUluZm8iLCJhdXRob3JpemF0aW9uIiwiaGFuZGxlU2VydmVyRXJyb3IiLCJlcnIiLCJjb25zb2xlIiwibG9nIiwiYXBpIiwidmlld1NlY3Rpb24iLCJjb25maXJtYXRpb25Gb3JtIiwiY3JlYXRlQ2FyZCIsImltZ0NhbGxiYWNrIiwidGhpc1VzZXJJZCIsIm93bmVyIiwiZGVsZXRlQ2FyZENhbGxiYWNrIiwiY2FyZCIsInNldFN1Ym1pdExpc3RlbmVyIiwiZGVsZXRlQ2FyZCIsImdldENhcmRJZCIsInJlbW92ZUNhcmQiLCJoaWRlIiwiY2F0Y2giLCJzaG93IiwicmVuZGVySW5kaXZpZHVhbENhcmQiLCJzZWN0aW9uIiwibmV3Q2FyZCIsInNob3dFbGVtZW50IiwiYWRkTGlrZSIsImFkZE5ld0xpa2UiLCJyZW1vdmVMaWtlIiwiZ2V0SWQiLCJhZGRJdGVtIiwiZ2V0VXNlckluZm8iLCJzZXRJbml0aWFsRGF0YSIsInByb2ZpbGVGb3JtIiwic2V0U3VibWl0QnV0dG9uVGV4dCIsImVkaXRQcm9maWxlIiwiZ2V0SW5wdXRWYWx1ZXMiLCJmaW5hbGx5IiwicHJvZmlsZUZvcm1FbGVtZW50IiwicHJvZmlsZUZvcm1WYWxpZGF0b3IiLCJlbmFibGVWYWxpZGF0aW9uIiwic2V0SW5wdXRWYWx1ZXMiLCJjaGVja1ZhbGlkaXR5IiwiZWRpdEF2YXRhckZvcm0iLCJzZXRQcm9maWxlSW1hZ2UiLCJhdmF0YXJGb3JtVmFsaWRhdG9yIiwiZ2V0SW5pdGlhbENhcmRzIiwiY2FyZHMiLCJzZWN0aW9uQ2FyZHMiLCJyZXZlcnNlIiwicmVuZGVyIiwiY2FyZEZvcm0iLCJhZGROZXdDYXJkIiwiY2FyZEZvcm1FbGVtZW50IiwiY2FyZEZvcm1WYWxpZGF0b3IiXSwic291cmNlUm9vdCI6IiJ9